{% extends 'base.html' %}

{% block title %}
Estatísticas - CareerStatus
{% endblock %}

{% block content %}
<main class="container mt-4">
  <h2>Top 10 Jogadores</h2>
  <div class="row">
    <!-- Mais Gols -->
    <div class="col-md-6">
      <h3>Mais Gols</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Posição</th>
            <th>Jogador</th>
            <th>Gols</th>
          </tr>
        </thead>
        <tbody>
          {% for jogador in top_gols %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ jogador.jogador__nome }}</td>
            <td>{{ jogador.total_gols }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <!-- Mais Assistências -->
    <div class="col-md-6">
      <h3>Mais Assistências</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Posição</th>
            <th>Jogador</th>
            <th>Assistências</th>
          </tr>
        </thead>
        <tbody>
          {% for jogador in top_assistencias %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ jogador.jogador__nome }}</td>
            <td>{{ jogador.total_assistencias }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Mais Jogos e Melhor Média de Participação -->
  <div class="row mt-4">
    <div class="col-md-6">
      <h3>Mais Jogos</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Posição</th>
            <th>Jogador</th>
            <th>Jogos</th>
          </tr>
        </thead>
        <tbody>
          {% for jogador in top_jogos %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ jogador.jogador__nome }}</td>
            <td>{{ jogador.total_jogos }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="col-md-6">
      <h3>Melhor Média de Participação</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Posição</th>
            <th>Jogador</th>
            <th>Média</th>
          </tr>
        </thead>
        <tbody>
          {% for jogador in top_media_participacao %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ jogador.jogador__nome }}</td>
            <td>{{ jogador.media_participacao|floatformat:"2" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Estatísticas Gerais -->
  <h2>Estatísticas Gerais</h2>
  <div class="row mt-4">
    <div class="col-md-6">
      <h3>Jogadores por Temporada</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Temporada</th>
            <th>Quantidade</th>
          </tr>
        </thead>
        <tbody>
          {% for item in jogadores_por_temporada %}
          <tr>
            <td>{{ item.temporada_subida }}</td>
            <td>{{ item.total }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="2">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="col-md-6">
      <h3>Média de Potencial</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Potencial Mínimo</th>
            <th>Potencial Máximo</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ media_potencial.media_potencial_min|floatformat:"2" }}</td>
            <td>{{ media_potencial.media_potencial_max|floatformat:"2" }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Jogadores por Posição e Países com Mais Jogadores -->
  <div class="row mt-4">
    <div class="col-md-6">
      <h3>Jogadores por Posição</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Posição</th>
            <th>Quantidade</th>
          </tr>
        </thead>
        <tbody>
          {% for item in jogadores_por_posicao %}
          <tr>
            <td>{{ item.posicao }}</td>
            <td>{{ item.total }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="2">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="col-md-6">
      <h3>Top 10 Países com Mais Jogadores</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>País</th>
            <th>Quantidade</th>
          </tr>
        </thead>
        <tbody>
          {% for item in paises_com_mais_jogadores %}
          <tr>
            <td>{{ item.nacionalidade }}</td>
            <td>{{ item.total }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="2">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Distribuição de Gols -->
  <div class="row mt-4">
    <div class="col-md-6">
      <h3>Distribuição de Gols por Posição</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Posição</th>
            <th>Gols</th>
          </tr>
        </thead>
        <tbody>
          {% for item in gols_por_posicao %}
          <tr>
            <td>{{ item.jogador__posicao }}</td>
            <td>{{ item.total_gols }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="2">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="col-md-6">
      <h3>Distribuição de Gols por País</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>País</th>
            <th>Gols</th>
          </tr>
        </thead>
        <tbody>
          {% for item in gols_por_pais %}
          <tr>
            <td>{{ item.jogador__nacionalidade }}</td>
            <td>{{ item.total_gols }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="2">Nenhum dado disponível.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</main>
{% endblock %}
